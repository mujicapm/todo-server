{"version":3,"sources":["reducers.js","ToDos/CreateToDoItem.js","HandleDate.js","User/Register.js","User/Login.js","User/UserBar.js","Header.js","pages/HeaderBar.js","ToDos/ToDoItem.js","ToDos/ToDoList.js","pages/HomePage.js","pages/ToDoPage.js","App.js","index.js","Contexts.js"],"names":["userReducer","state","action","type","username","access_token","undefined","toDoReducer","id","title","content","dateCreated","complete","completedOn","map","p","filter","ToDoItems","appReducer","user","CreateToDoItem","useState","setTitle","setContent","setDateCreated","navigation","useNavigation","useContext","StateContext","dispatch","useResource","url","method","headers","data","ToDoItem","putToDoItem","handleCreate","intlFormat","Date","now","year","month","day","useEffect","console","log","navigate","onSubmit","e","preventDefault","htmlFor","value","onChange","evt","target","name","Register","show","handleClose","password","passwordRepeat","formData","setFormData","setStatus","register","isLoading","error","alert","Modal","onHide","Form","Header","closeButton","Title","Body","Label","Control","Footer","Button","variant","onClick","disabled","length","Login","setUsername","setPassword","loginFailed","setLoginFailed","login","Text","style","color","UserBar","Logout","React","lazy","showLogin","setShowLogin","showRegister","setShowRegister","className","text","href","Navbar","Brand","HeaderBar","bg","expand","Container","Toggle","Collapse","Nav","Link","Suspense","fallback","short","deletedTodo","deleteTodo","completed","toggledTodo","toggleTodo","processedContent","substring","Card","checked","toLocaleDateString","memo","ToDoList","i","key","HomePage","getToDoItems","TodoPage","toDoItem","getToDoItem","App","useReducer","routes","mount","route","view","req","params","Provider","axiosInstance","axios","create","baseURL","ReactDOM","render","StrictMode","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.ec1dd5ab.chunk.js","sourcesContent":["function userReducer (state, action) {\n    switch (action.type) {\n        case 'LOGIN':\n            return {\n                'username': action.username,\n                'access_token': action.access_token\n            }\n        case 'REGISTER':\n            return {\n                'username': action.username,\n                'access_token': action.access_token\n            }\n        case 'LOGOUT':\n            return {\n                'username': undefined,\n                'access_token': undefined\n            }\n        default:\n            return state;\n    }\n}\n\nfunction toDoReducer(state, action) {\n    switch (action.type) {\n        case \"CREATE_TODO\":\n            const newPost = {\n                id: action.id,\n                title: action.title,\n                content: action.content,\n                dateCreated: action.dateCreated,\n                complete: false,\n                completedOn: undefined\n            };\n            return [newPost, ...state];\n        case \"TOGGLE_TODO\":\n            return state.map((p) => {\n                if(p.id === action.id) {\n                    p.complete = action.complete;\n                    p.completedOn = action.completedOn;\n                }\n                return p;\n            })\n\n        case \"DELETE_TODO\":\n            return state.filter((p) => p.id !== action.id)\n        case 'FETCH_POSTS':\n            return action.ToDoItems\n        default:\n            return state;\n    }\n}\nexport default function appReducer (state, action) {\n    return {\n        user: userReducer(state.user, action),\n        ToDoItems: toDoReducer(state.ToDoItems, action)\n    }\n}","import React, {useState, useEffect, useContext} from 'react'\nimport { StateContext } from '../Contexts';\nimport { useResource } from 'react-request-hook'\nimport handleDateCreated from \"../HandleDate\";\n\nimport { useNavigation } from 'react-navi'\n\n\nexport default function CreateToDoItem({}) {\n\n    const [ title, setTitle ] = useState('')\n    const [ content, setContent ] = useState('')\n    const [dateCreated, setDateCreated] = useState(\"\");\n    const navigation = useNavigation()\n\n    const {state, dispatch} = useContext(StateContext)\n    const {user} = state;\n\n    const [ ToDoItem, putToDoItem ] = useResource(({title, content, dateCreated, complete, completedOn}) => ({\n        url: '/todo',\n        method: 'post',\n        headers: {\"Authorization\": `${state.user.access_token}`},\n        data:\n            {\n                title,\n                content,\n                dateCreated,\n                complete,\n                completedOn,\n            }\n    }))\n\n\n    function handleTitle (evt) { setTitle(evt.target.value) }\n\n    function handleContent (evt) { setContent(evt.target.value) }\n\n    function handleCreate() {\n        setDateCreated(handleDateCreated())\n        putToDoItem({title, content, dateCreated})\n    }\n\n    useEffect(() => {\n        if (ToDoItem && ToDoItem.data) {\n            dispatch({type: \"CREATE_TODO\", id: ToDoItem.data.id, title: ToDoItem.data.title, content: ToDoItem.data.content, dateCreated: ToDoItem.data.dateCreated, complete: ToDoItem.data.complete, completedOn: ToDoItem.data.completedOn});\n            console.log(ToDoItem.data)\n            navigation.navigate(`/todo/${ToDoItem.data.id}`)\n        }\n    }, [ToDoItem])\n\n\n    return (\n        <form onSubmit={e => {e.preventDefault(); handleCreate();} }>\n            <div>\n                <label htmlFor=\"create-title\">Title:</label>\n                <input\n                    type=\"text\"\n                    value={title}\n                    onChange={handleTitle}\n                    name=\"create-title\"\n                    id=\"create-title\"\n                />\n            </div>\n            <textarea value={content} onChange={handleContent} />\n            <input type=\"submit\" value=\"Create\" />\n        </form>\n    )\n}","import { intlFormat } from \"date-fns\";\n\nexport default function handleDateCreated() {\n    const tmpDate = intlFormat(Date.now(), {\n        year: \"numeric\",\n        month: \"numeric\",\n        day: \"numeric\",\n    });\n    return tmpDate;\n}","import React, {useState, useContext, useEffect} from \"react\";\nimport { StateContext } from '../Contexts';\nimport {useResource} from \"react-request-hook\";\nimport {Form, Modal, Button} from 'react-bootstrap';\n\nexport default function Register({show, handleClose}) {\n    const {dispatch} = useContext(StateContext);\n\n    const [ formData, setFormData ] = useState({\n        username: \"\",\n        password: \"\",\n        passwordRepeat: \"\"\n    })\n\n    const [ status, setStatus] = useState(\"\")\n\n    const [ user, register ] = useResource((username, password) => ({\n        url: '/auth/register',\n        method: 'post',\n        data: { username, password, 'passwordConfirmation': password }\n    }))\n\n\n    useEffect(() => {\n        if (user && user.data) {\n            dispatch({type: \"REGISTER\", username: user.data.username});\n        }\n    }, [user])\n\n    useEffect(() => {\n        if (user && user.isLoading === false && (user.data || user.error)) {\n            if (user.error) {\n                console.log(user)\n                setStatus(\"Registration failed, please try again later.\")\n                alert(\"fail\")\n            } else {\n                console.log(user)\n                setStatus(\"Registration successful. You may now login.\")\n                alert(\"success\")\n            }\n            //dispatch({ type: 'REGISTER', username: user.data.username })\n        }\n    }, [user])\n\n\n    return (\n\n        <Modal show={show} onHide={handleClose}>\n            <Form onSubmit={e => { e.preventDefault(); register(formData.username, formData.password); handleClose(); }}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Register</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Label htmlFor=\"register-username\">Username:</Form.Label>\n                    <Form.Control type=\"text\" value={formData.username} onChange={e => setFormData({ ...formData, username: e.target.value })} name=\"register-username\" id=\"register-username\" />\n                    <Form.Label htmlFor=\"register-password\">Password:</Form.Label>\n                    <Form.Control type=\"password\" name=\"register-password\" id=\"register-password\" value={formData.password} onChange={e => setFormData({ ...formData, password: e.target.value })} />\n                    <Form.Label htmlFor=\"register-password-repeat\">Repeat password:</Form.Label>\n                    <Form.Control type=\"password\" name=\"register-password-repeat\" id=\"register-password-repeat\" value={formData.passwordRepeat} onChange={e => setFormData({ ...formData, passwordRepeat: e.target.value })} />\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\n                    <Button variant=\"primary\" type=\"submit\" disabled={formData.username.length === 0 || formData.password.length === 0 || formData.password !== formData.passwordRepeat}>Register</Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n\n    )\n}\n\n","import React, {useState, useEffect, useContext} from 'react'\n\nimport { StateContext } from '../Contexts';\nimport { useResource } from 'react-request-hook';\n\nimport { Modal, Form, Button } from 'react-bootstrap';\n\nexport default function Login({show, handleClose}) {\n\n    const {dispatch} = useContext(StateContext)\n\n    const [username, setUsername] = useState('');\n    const [ password, setPassword ] = useState('')\n    const [ loginFailed, setLoginFailed ] = useState(false)\n\n    function handleUsername (evt) { setUsername(evt.target.value) }\n    function handlePassword (evt) { setPassword(evt.target.value) }\n\n    const [ user, login ] = useResource((username, password) => ({\n        url: 'auth/login',\n        method: 'post',\n        data: {username, password}\n    }))\n\n\n\n    useEffect(() => {\n        if (user && user.isLoading === false && (user.data || user.error)) {\n            if (user.error) {\n                setLoginFailed(true)\n                alert('failed')\n            } else {\n                setLoginFailed(false)\n                console.log(user.data)\n                dispatch({ type: 'LOGIN', username, access_token: user.data.access_token })\n            }\n        }\n    }, [user])\n\n\n    return (\n        <Modal show={show} onHide={handleClose}>\n            <Form onSubmit={e => { e.preventDefault(); login(username, password); handleClose() }}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Login</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Label htmlFor=\"login-username\">Username:</Form.Label>\n                    <Form.Control type=\"text\" value={username} onChange={handleUsername} name=\"login-username\" id=\"login-username\" />\n                    <Form.Label htmlFor=\"login-password\">Password:</Form.Label>\n                    <Form.Control type=\"password\" value={password} onChange={handlePassword} name=\"login-password\" id=\"login-password\" />\n                    {loginFailed && <Form.Text style={{ color: 'red' }}>Invalid username or password</Form.Text>}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\n                    <Button variant=\"primary\" disabled={username.length === 0} type=\"submit\">Login</Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n\n    )\n}\n","import React, {useContext, useState} from 'react'\n\nimport Register from './Register'\nimport Login from './Login'\n\nimport { StateContext } from '../Contexts'\nimport {Button} from 'react-bootstrap'\n\nexport default function UserBar() {\n\n    const Logout = React.lazy(() => import('./Logout'))\n    const {state} = useContext(StateContext)\n\n    const [showLogin, setShowLogin] = useState(false)\n    const [showRegister, setShowRegister] = useState(false)\n\n\n    if (state.user.username) {\n        return <Logout />\n    } else {\n        return (\n\n            <div className=\"justify-content-end\">\n                <Button variant=\"link\" onClick={(e) => setShowLogin(true)}>\n                    Login\n                </Button>\n                <Login show={showLogin} handleClose={() => setShowLogin(false)} />\n                <Button variant=\"link\" onClick={(e) => setShowRegister(true)}>\n                    Register\n                </Button>\n                <Register show={showRegister} handleClose={() => setShowRegister(false)} />\n            </div>\n\n\n        )\n    }\n}\n","import React, {useContext} from 'react'\nimport { Navbar } from 'react-bootstrap'\n\nimport { Link } from 'react-navi'\n\nconst Header = ({text}) => {\n    return <Link href=\"/\"><Navbar.Brand>{text}</Navbar.Brand></Link>\n}\n\nexport default Header","import React, {useContext} from 'react'\nimport {Container, Navbar, Nav} from \"react-bootstrap\";\nimport UserBar from \"../User/UserBar\";\nimport CreateToDoItem from \"../ToDos/CreateToDoItem\";\nimport {StateContext} from \"../Contexts\";\nimport {Link} from \"react-navi\";\nimport Header from \"../Header\";\n\n\nexport default function HeaderBar () {\n\n    const {state} = useContext(StateContext);\n    const {user} = state;\n\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Container>\n                <Navbar.Brand href=\"/\"><Header text=\"My ToDos\" /></Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"me-auto\">\n                        {user.username && <Nav.Link><Link href=\"/todo/create\">Create New Task</Link></Nav.Link>}\n                    </Nav>\n                    <React.Suspense fallback={\"Loading...\"}>\n                        <UserBar />\n                    </React.Suspense>\n                </Navbar.Collapse>\n            </Container>\n        </Navbar>\n    )\n}","import React, {useContext, useEffect} from 'react'\nimport { Link } from 'react-navi'\nimport { Card, Button } from 'react-bootstrap'\n\nimport { StateContext } from '../Contexts'\n\nimport { useResource } from 'react-request-hook'\n\n\nfunction ToDoItem({id, title, content, dateCreated, complete, completedOn, short = false}) {\n    const {state, dispatch} = useContext(StateContext);\n\n    const [deletedTodo, deleteTodo] = useResource((id) => ({\n        url: `/todo/${id}`,\n        method: \"delete\",\n        headers: {\"Authorization\": `${state.user.access_token}`}\n    }));\n\n    const [toggledTodo, toggleTodo] = useResource((id, completed) => ({\n        url: `/todo/${id}`,\n        method: \"patch\",\n        headers: {\"Authorization\": `${state.user.access_token}`},\n        data: {\n            complete:completed,\n            completedOn: Date.now()\n        }\n    }));\n\n    useEffect(() => {\n        if (deletedTodo && deletedTodo.data && deletedTodo.isLoading === false) {\n            dispatch({type: 'DELETE_POST', id: id})\n        }\n    }, [deletedTodo])\n\n    useEffect(() => {\n        if (toggledTodo && toggledTodo.data && toggledTodo.isLoading === false) {\n            dispatch({type: 'TOGGLE_POST', complete:toggledTodo.data.complete, completedOn:toggledTodo.data.completedOn, id})\n        }\n    }, [toggledTodo])\n\n    let processedContent = content\n\n    if (short) {\n        if (content.length > 30) {\n            processedContent = content.substring(0, 30) + '...'\n        }\n    }\n\n\n    return (\n        <Card>\n            <Card.Body>\n                <Card.Title><Link href={`/todo/${id}`}>{title}</Link>\n                </Card.Title>\n                <Card.Text>\n                    {processedContent}\n                    <i>Created on {dateCreated}</i>\n                </Card.Text>\n\n                <input type=\"checkbox\" checked={complete} onChange={e => {toggleTodo(id, e.target.checked)}} />\n                <Button variant=\"link\" onClick={(e) => {deleteTodo(id)}}>Delete Post</Button>\n                {complete && <i>Completed on: {new Date(completedOn).toLocaleDateString('en-us')}</i>}\n                {short && <Link href={`/todo/${id}`}>View full post</Link>}\n\n            </Card.Body>\n        </Card>\n\n    )\n}\n\nexport default React.memo(ToDoItem);","import React, {useContext} from \"react\";\nimport ToDoItem from \"./ToDoItem\";\nimport {StateContext} from \"../Contexts\";\n\nexport default function ToDoList() {\n    const{state} = useContext(StateContext);\n    const{ToDoItems} = state;\n\n    return (\n        <div>\n            {ToDoItems.map((p, i) =>\n                <ToDoItem {...p} short={true} title={p.title} key={\"ToDoItem-\" + i} id={p.id} />)}\n        </div>\n    );\n}","import {useResource} from \"react-request-hook\";\nimport {useContext, useEffect} from \"react\";\nimport ToDoList from \"../ToDos/ToDoList\";\nimport {StateContext} from \"../Contexts\";\n\nexport default function HomePage () {\n    const {state, dispatch} = useContext(StateContext)\n    const [ ToDoItems, getToDoItems ] = useResource(() => ({\n        url: '/todo',\n        method: 'get',\n        headers: {\"Authorization\": `${state.user.access_token}`}\n    }))\n\n\n    useEffect(() =>{\n        getToDoItems()\n    }, [state.user.access_token])\n\n    useEffect(() => {\n        if (ToDoItems && ToDoItems.isLoading === false && ToDoItems.data) {\n            console.log(ToDoItems.data)\n            dispatch({ type: 'FETCH_POSTS', ToDoItems: ToDoItems.data.ToDoItems })\n        }\n    }, [ToDoItems])\n    const { data, isLoading } = ToDoItems;\n\n    return (\n        <>\n            {isLoading && 'Tasks are loading...'} <ToDoList/>\n        </>\n    )\n}","\nimport {useResource} from \"react-request-hook\";\nimport {useContext, useEffect} from \"react\";\nimport ToDoItem from \"../ToDos/ToDoItem\";\nimport {Link} from \"react-navi\";\nimport {StateContext} from \"../Contexts\";\n\nexport default function TodoPage ({ id }) {\n\n    const {state} = useContext(StateContext);\n\n    const [ toDoItem, getToDoItem ] = useResource(() => ({\n        url: `/todo/${id}`,\n        headers: {\"Authorization\": `${state.user.access_token}`},\n        method: 'get'\n    }))\n\n    useEffect(getToDoItem, [id])\n\n    return (\n        <div>\n            {(toDoItem && toDoItem.data)\n                ? <ToDoItem {...toDoItem.data} />\n                : 'Loading...'\n            }\n            <div><Link href=\"/\">Go back</Link></div>\n        </div>\n    )\n}","import React, {useState, useReducer, useEffect} from 'react';\nimport { mount, route } from 'navi';\nimport { Router, View } from 'react-navi';\n\nimport { Container } from 'react-bootstrap';\n\nimport appReducer from './reducers';\n\n\nimport {StateContext } from './Contexts';\nimport CreateToDoItem from './ToDos/CreateToDoItem';\nimport HeaderBar from './pages/HeaderBar';\nimport HomePage from './pages/HomePage';\nimport TodoPage from \"./pages/ToDoPage\";\n\n\nfunction App() {\n\n    const [ state, dispatch ] = useReducer(appReducer, { user: {}, ToDoItems: [] })\n\n    const {user} = state;\n\n    const routes = mount({\n        '/': route({view: <HomePage/>}),\n        '/todo/create': route({view: <CreateToDoItem/>}),\n        '/todo/:id': route(req => {\n            return {view: <TodoPage id={req.params.id}/>}\n        }),\n    })\n\n\n\n    return (\n        <div>\n\n            <StateContext.Provider value={{state: state, dispatch: dispatch}}>\n                <Router routes={routes}>\n                    <Container>\n                        <HeaderBar/>\n                        <hr />\n                        <View />\n                    </Container>\n                </Router>\n            </StateContext.Provider>\n        </div>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { RequestProvider } from 'react-request-hook'\nimport axios from 'axios'\n\nconst axiosInstance = axios.create({\n    baseURL: '/'\n})\n\nReactDOM.render(\n  <React.StrictMode>\n      <RequestProvider value={axiosInstance}>\n          <App />\n      </RequestProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","import React from 'react'\n\nexport const StateContext = React.createContext({\n    state: {},\n    dispatch: () => {}\n})\n\n"],"sourceRoot":""}